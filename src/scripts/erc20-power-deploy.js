
    var networkPopup = document.querySelector('.Network-Popup');
    var tokenErrorPopup = document.querySelector('.TokenErrorPopup');
    var tokenSuccessPopup = document.querySelector('.TokenSuccessPopup');
    var installMetaMaskPopup = document.querySelector('.installMetaMaskPopup');
    var contractAddressText = document.querySelector('.contractAddress');
    var bscscanAddressText = document.querySelector('.bscScanAddress');
    var overlay = document.querySelector('.backgroundOverlay');
    
    
    var createButton = document.querySelector('.create-form-button');
    
    var chainID;


    var form = document.querySelector('.token-form');
    var _burnFee = document.querySelector('.token-burnfee');
    var _taxFee = document.querySelector('.token-taxfee');
   /* var _feeaddress = document.getElementById('bep20-power-feeaddress');
    
    _feeaddress.addEventListener("input"), function(){
        if(_feeaddress.value.match(new RegExp("^0^x[a-f0-9]", "i"))){
            _feeaddress.setCustomValidity("This address does not exist.");
        }
        else{
            _feeaddress.setCustomValidity("");
        }
    }*/
    
    _burnFee.addEventListener("input", function(){
        console.log(_burnFee.value);
        let tempburn = parseInt(_burnFee.value);
        let temptax = parseInt(_taxFee.value);
        console.log(_taxFee.value);
        let feesum = tempburn + temptax;
        console.log(feesum);
        if(feesum > 99 && tempburn >= temptax){
            _burnFee.setCustomValidity("Burn and Transaction fee together cannot be greater than 99");
        }
        else if(feesum > 99 && tempburn < temptax){
            _taxFee.setCustomValidity("Burn and Transaction fee together cannot be greater than 99");
        }
        else{
            _burnFee.setCustomValidity("");
            _taxFee.setCustomValidity("");
        }
        
    }, false);
    
    _taxFee.addEventListener("input", function(){
        console.log(_burnFee.value);
        let tempburn = parseInt(_burnFee.value);
        let temptax = parseInt(_taxFee.value);
        console.log(_taxFee.value);
        let feesum = tempburn + temptax;
        console.log(feesum);
        if(feesum > 99 && tempburn >= temptax){
            _burnFee.setCustomValidity("Burn and Transaction fee together cannot be greater than 99");
        }
        else if(feesum > 99 && tempburn < temptax){
            _taxFee.setCustomValidity("Burn and Transaction fee together cannot be greater than 99");
        }
        else{
            _burnFee.setCustomValidity("");
            _taxFee.setCustomValidity("");
        }
        
    }, false);
	
	form.addEventListener('submit', function(event){
			event.preventDefault();
			
			createButton.classList.add('loader');
		
			var name = document.querySelector('.token-name').value;
			var symbol = document.querySelector('.token-symbol').value;
			var supply = document.querySelector('.token-supply').value;
			var decimals = document.querySelector('.token-decimals').value;
			var burnFee = document.querySelector('.token-burnfee').value;
			var taxFee = document.querySelector('.token-taxfee').value;
			var feeAccount = document.querySelector('.token-feeaddress').value;
		
			console.log(name + symbol + supply + decimals + burnFee + taxFee);
			
			beforeDeployCheck(name, symbol, supply, decimals, burnFee, taxFee, feeAccount);
		
		});
	
	
	function beforeDeployCheck(name, symbol, supply, decimals, burnFee, taxFee, feeAccount){
		if(typeof window.ethereum !== 'undefined') {
		    checkNetworkConnection(name, symbol, supply, decimals, burnFee, taxFee, feeAccount);
		}else{
			createButton.classList.remove('loader');
			showInstallMetaMask();
	    }
	}
	
	
	function checkNetworkConnection(name, symbol, supply, decimals, burnFee, taxFee, feeAccount){
	    const web3 = new Web3(window.ethereum);
	    var currentNetworkID = web3.eth.net.getId().then(function(result){
	        console.log(result);
	        if(result == 1 || result == 3 || result == 4 || result == 5 || result == 42){
	            chainID = result;
	            deploy(name, symbol, supply, decimals, burnFee, taxFee, feeAccount);
	        }
	        else{
	            createButton.classList.remove('loader');
	            networkError();
	        }
	   });
	}
	
	
	async function deploy(name, symbol, supply, decimals, burnFee, taxFee, feeAccount){
		const web3 = new Web3(window.ethereum);
		const accounts = await ethereum.request({method: 'eth_requestAccounts'});
	
		const abi = [
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "totalSupply_",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "name_",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "symbol_",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "decimals_",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "burnFee_",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "taxFee_",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "owner_",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "feeAccount_",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "service_",
				"type": "address"
			}
		],
		"stateMutability": "payable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "burner",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "burn",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "burnFee_",
				"type": "uint256"
			}
		],
		"name": "changeBurnFee",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newFeeAccount",
				"type": "address"
			}
		],
		"name": "changeFeeAccount",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "taxFee_",
				"type": "uint256"
			}
		],
		"name": "changeTaxFee",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "subtractedValue",
				"type": "uint256"
			}
		],
		"name": "decreaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getBurnFee",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getFeeAccount",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getTaxFee",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "addedValue",
				"type": "uint256"
			}
		],
		"name": "increaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "mint",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	}
];

		const bytecode = '0x6080604052604051620039e0380380620039e0833981810160405281019062000029919062000580565b6200005186600a6200003c919062000906565b8a620001bc60201b620015701790919060201c565b60028190555087600390805190602001906200006f92919062000424565b5086600490805190602001906200008892919062000424565b5085600581905550846008819055508360098190555082600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555062000156600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166002546200024060201b60201c565b8073ffffffffffffffffffffffffffffffffffffffff166108fc62000180620003b960201b60201c565b9081150290604051600060405180830381858888f19350505050158015620001ac573d6000803e3d6000fd5b5050505050505050505062000d6d565b600080831415620001d157600090506200023a565b60008284620001e1919062000a43565b9050828482620001f2919062000873565b1462000235576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200022c9062000745565b60405180910390fd5b809150505b92915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415620002b3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620002aa9062000767565b60405180910390fd5b6200030b816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054620003c160201b620015eb1790919060201c565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051620003ad919062000789565b60405180910390a35050565b600047905090565b6000808284620003d2919062000816565b9050838110156200041a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620004119062000723565b60405180910390fd5b8091505092915050565b828054620004329062000b18565b90600052602060002090601f016020900481019282620004565760008555620004a2565b82601f106200047157805160ff1916838001178555620004a2565b82800160010185558215620004a2579182015b82811115620004a157825182559160200191906001019062000484565b5b509050620004b19190620004b5565b5090565b5b80821115620004d0576000816000905550600101620004b6565b5090565b6000620004eb620004e584620007cf565b620007a6565b9050828152602081018484840111156200050a576200050962000c45565b5b6200051784828562000ae2565b509392505050565b600081519050620005308162000d39565b92915050565b600082601f8301126200054e576200054d62000c40565b5b815162000560848260208601620004d4565b91505092915050565b6000815190506200057a8162000d53565b92915050565b60008060008060008060008060006101208a8c031215620005a657620005a562000c4f565b5b6000620005b68c828d0162000569565b99505060208a015167ffffffffffffffff811115620005da57620005d962000c4a565b5b620005e88c828d0162000536565b98505060408a015167ffffffffffffffff8111156200060c576200060b62000c4a565b5b6200061a8c828d0162000536565b97505060606200062d8c828d0162000569565b9650506080620006408c828d0162000569565b95505060a0620006538c828d0162000569565b94505060c0620006668c828d016200051f565b93505060e0620006798c828d016200051f565b9250506101006200068d8c828d016200051f565b9150509295985092959850929598565b6000620006ac601b8362000805565b9150620006b98262000c72565b602082019050919050565b6000620006d360218362000805565b9150620006e08262000c9b565b604082019050919050565b6000620006fa60248362000805565b9150620007078262000cea565b604082019050919050565b6200071d8162000ad8565b82525050565b600060208201905081810360008301526200073e816200069d565b9050919050565b600060208201905081810360008301526200076081620006c4565b9050919050565b600060208201905081810360008301526200078281620006eb565b9050919050565b6000602082019050620007a0600083018462000712565b92915050565b6000620007b2620007c5565b9050620007c0828262000b4e565b919050565b6000604051905090565b600067ffffffffffffffff821115620007ed57620007ec62000c11565b5b620007f88262000c54565b9050602081019050919050565b600082825260208201905092915050565b6000620008238262000ad8565b9150620008308362000ad8565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111562000868576200086762000b84565b5b828201905092915050565b6000620008808262000ad8565b91506200088d8362000ad8565b925082620008a0576200089f62000bb3565b5b828204905092915050565b6000808291508390505b6001851115620008fd57808604811115620008d557620008d462000b84565b5b6001851615620008e55780820291505b8081029050620008f58562000c65565b9450620008b5565b94509492505050565b6000620009138262000ad8565b9150620009208362000ad8565b92506200094f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff848462000957565b905092915050565b60008262000969576001905062000a3c565b8162000979576000905062000a3c565b81600181146200099257600281146200099d57620009d3565b600191505062000a3c565b60ff841115620009b257620009b162000b84565b5b8360020a915084821115620009cc57620009cb62000b84565b5b5062000a3c565b5060208310610133831016604e8410600b841016171562000a0d5782820a90508381111562000a075762000a0662000b84565b5b62000a3c565b62000a1c8484846001620008ab565b9250905081840481111562000a365762000a3562000b84565b5b81810290505b9392505050565b600062000a508262000ad8565b915062000a5d8362000ad8565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161562000a995762000a9862000b84565b5b828202905092915050565b600062000ab18262000ab8565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60005b8381101562000b0257808201518184015260208101905062000ae5565b8381111562000b12576000848401525b50505050565b6000600282049050600182168062000b3157607f821691505b6020821081141562000b485762000b4762000be2565b5b50919050565b62000b598262000c54565b810181811067ffffffffffffffff8211171562000b7b5762000b7a62000c11565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b60008160011c9050919050565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000600082015250565b7f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f60008201527f7700000000000000000000000000000000000000000000000000000000000000602082015250565b7f6d696e74206f74207a65726f2061646472657373206973206e6f7420706f737360008201527f69626c6500000000000000000000000000000000000000000000000000000000602082015250565b62000d448162000aa4565b811462000d5057600080fd5b50565b62000d5e8162000ad8565b811462000d6a57600080fd5b50565b612c638062000d7d6000396000f3fe6080604052600436106101185760003560e01c8063584e8d2a116100a0578063a457c2d711610064578063a457c2d7146103f8578063a9059cbb14610435578063aa4b10d114610472578063f66608fe1461049d578063fc5af734146104c85761011f565b8063584e8d2a146102ed57806370a082311461032a57806371ffcb161461036757806395d89b41146103a45780639dc29fac146103cf5761011f565b806323b872dd116100e757806323b872dd146101f4578063313ce56714610231578063395093511461025c57806340c10f19146102995780634614be9f146102c25761011f565b806306fdde0314610124578063095ea7b31461014f57806318160ddd1461018c5780631a46ec82146101b75761011f565b3661011f57005b600080fd5b34801561013057600080fd5b50610139610505565b60405161014691906122a3565b60405180910390f35b34801561015b57600080fd5b5061017660048036038101906101719190611f24565b610597565b6040516101839190612288565b60405180910390f35b34801561019857600080fd5b506101a1610689565b6040516101ae9190612505565b60405180910390f35b3480156101c357600080fd5b506101de60048036038101906101d99190611e91565b610693565b6040516101eb9190612505565b60405180910390f35b34801561020057600080fd5b5061021b60048036038101906102169190611ed1565b61071a565b6040516102289190612288565b60405180910390f35b34801561023d57600080fd5b506102466109b7565b6040516102539190612505565b60405180910390f35b34801561026857600080fd5b50610283600480360381019061027e9190611f24565b6109c1565b6040516102909190612288565b60405180910390f35b3480156102a557600080fd5b506102c060048036038101906102bb9190611f24565b610a66565b005b3480156102ce57600080fd5b506102d7610c7e565b6040516102e4919061226d565b60405180910390f35b3480156102f957600080fd5b50610314600480360381019061030f9190611f64565b610ca8565b6040516103219190612288565b60405180910390f35b34801561033657600080fd5b50610351600480360381019061034c9190611e64565b610de6565b60405161035e9190612505565b60405180910390f35b34801561037357600080fd5b5061038e60048036038101906103899190611e64565b610e2e565b60405161039b9190612288565b60405180910390f35b3480156103b057600080fd5b506103b9610f7a565b6040516103c691906122a3565b60405180910390f35b3480156103db57600080fd5b506103f660048036038101906103f19190611f24565b61100c565b005b34801561040457600080fd5b5061041f600480360381019061041a9190611f24565b6112a5565b60405161042c9190612288565b60405180910390f35b34801561044157600080fd5b5061045c60048036038101906104579190611f24565b611409565b6040516104699190612288565b60405180910390f35b34801561047e57600080fd5b5061048761141e565b6040516104949190612505565b60405180910390f35b3480156104a957600080fd5b506104b2611428565b6040516104bf9190612505565b60405180910390f35b3480156104d457600080fd5b506104ef60048036038101906104ea9190611f64565b611432565b6040516104fc9190612288565b60405180910390f35b606060038054610514906126cc565b80601f0160208091040260200160405190810160405280929190818152602001828054610540906126cc565b801561058d5780601f106105625761010080835404028352916020019161058d565b820191906000526020600020905b81548152906001019060200180831161057057829003601f168201915b5050505050905090565b600081600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040516106779190612505565b60405180910390a36001905092915050565b6000600254905090565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60008161072685610de6565b1015610767576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161075e90612345565b60405180910390fd5b81600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015610826576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161081d906123e5565b60405180910390fd5b610831848484611649565b5060006108c383600160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611a6c90919063ffffffff16565b905080600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516109a39190612505565b60405180910390a360019150509392505050565b6000600554905090565b6000610a5b83610a5684600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546115eb90919063ffffffff16565b610597565b506001905092915050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610af6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aed90612385565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610b66576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b5d90612465565b60405180910390fd5b610b7b816002546115eb90919063ffffffff16565b600281905550610bd2816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546115eb90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051610c729190612505565b60405180910390a35050565b6000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d3a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3190612385565b60405180910390fd5b6000821015610d7e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d7590612405565b60405180910390fd5b6063610d95600854846115eb90919063ffffffff16565b1115610dd6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dcd906124a5565b60405180910390fd5b8160098190555060019050919050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610ec0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610eb790612385565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610f30576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f27906124e5565b60405180910390fd5b81600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b606060048054610f89906126cc565b80601f0160208091040260200160405190810160405280929190818152602001828054610fb5906126cc565b80156110025780601f10610fd757610100808354040283529160200191611002565b820191906000526020600020905b815481529060010190602001808311610fe557829003601f168201915b5050505050905090565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461109c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161109390612385565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561110c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161110390612305565b60405180910390fd5b806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101561118d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161118490612485565b60405180910390fd5b6111de816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611a6c90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061123581600254611a6c90919063ffffffff16565b600281905550600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516112999190612505565b60405180910390a35050565b600081600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015611366576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161135d906123c5565b60405180910390fd5b6113fe836113f984600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611a6c90919063ffffffff16565b610597565b506001905092915050565b6000611416338484611649565b905092915050565b6000600854905090565b6000600954905090565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146114c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114bb90612385565b60405180910390fd5b6000821015611508576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114ff90612325565b60405180910390fd5b606361151f600954846115eb90919063ffffffff16565b1115611560576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611557906124c5565b60405180910390fd5b8160088190555060019050919050565b60008083141561158357600090506115e5565b6000828461159191906125c3565b90508284826115a09190612592565b146115e0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d790612445565b60405180910390fd5b809150505b92915050565b60008082846115fa919061253c565b90508381101561163f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611636906122e5565b60405180910390fd5b8091505092915050565b60008073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156116ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116b1906122c5565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561172a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161172190612425565b60405180910390fd5b8161173485610de6565b1015611775576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161176c90612345565b60405180910390fd5b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141580156118215750600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614155b156118d657600061185060646118426008548661157090919063ffffffff16565b611ac590919063ffffffff16565b9050600061187c606461186e6009548761157090919063ffffffff16565b611ac590919063ffffffff16565b905060006008541115611895576118938683611b1d565b505b600060095411156118ac576118aa8682611c3d565b505b6118d16118c282846115eb90919063ffffffff16565b85611a6c90919063ffffffff16565b935050505b611927826000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546115eb90919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506119ba826000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611a6c90919063ffffffff16565b6000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051611a599190612505565b60405180910390a3600190509392505050565b600082821115611ab1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611aa890612365565b60405180910390fd5b8183611abd919061261d565b905092915050565b6000808211611b09576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b00906123a5565b60405180910390fd5b8183611b159190612592565b905092915050565b6000611b70826000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611a6c90919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611bc782600254611a6c90919063ffffffff16565b600281905550600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051611c2b9190612505565b60405180910390a36001905092915050565b6000611cb282600080600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546115eb90919063ffffffff16565b600080600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611d67826000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611a6c90919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051611e289190612505565b60405180910390a36001905092915050565b600081359050611e4981612bff565b92915050565b600081359050611e5e81612c16565b92915050565b600060208284031215611e7a57611e7961278b565b5b6000611e8884828501611e3a565b91505092915050565b60008060408385031215611ea857611ea761278b565b5b6000611eb685828601611e3a565b9250506020611ec785828601611e3a565b9150509250929050565b600080600060608486031215611eea57611ee961278b565b5b6000611ef886828701611e3a565b9350506020611f0986828701611e3a565b9250506040611f1a86828701611e4f565b9150509250925092565b60008060408385031215611f3b57611f3a61278b565b5b6000611f4985828601611e3a565b9250506020611f5a85828601611e4f565b9150509250929050565b600060208284031215611f7a57611f7961278b565b5b6000611f8884828501611e4f565b91505092915050565b611f9a81612651565b82525050565b611fa981612663565b82525050565b6000611fba82612520565b611fc4818561252b565b9350611fd4818560208601612699565b611fdd81612790565b840191505092915050565b6000611ff5602b8361252b565b9150612000826127a1565b604082019050919050565b6000612018601b8361252b565b9150612023826127f0565b602082019050919050565b600061203b60268361252b565b915061204682612819565b604082019050919050565b600061205e60298361252b565b915061206982612868565b604082019050919050565b6000612081600f8361252b565b915061208c826128b7565b602082019050919050565b60006120a4601e8361252b565b91506120af826128e0565b602082019050919050565b60006120c760228361252b565b91506120d282612909565b604082019050919050565b60006120ea601a8361252b565b91506120f582612958565b602082019050919050565b600061210d601c8361252b565b915061211882612981565b602082019050919050565b600061213060118361252b565b915061213b826129aa565b602082019050919050565b600061215360288361252b565b915061215e826129d3565b604082019050919050565b600061217660298361252b565b915061218182612a22565b604082019050919050565b600061219960218361252b565b91506121a482612a71565b604082019050919050565b60006121bc60248361252b565b91506121c782612ac0565b604082019050919050565b60006121df602c8361252b565b91506121ea82612b0f565b604082019050919050565b600061220260138361252b565b915061220d82612b5e565b602082019050919050565b600061222560148361252b565b915061223082612b87565b602082019050919050565b600061224860268361252b565b915061225382612bb0565b604082019050919050565b6122678161268f565b82525050565b60006020820190506122826000830184611f91565b92915050565b600060208201905061229d6000830184611fa0565b92915050565b600060208201905081810360008301526122bd8184611faf565b905092915050565b600060208201905081810360008301526122de81611fe8565b9050919050565b600060208201905081810360008301526122fe8161200b565b9050919050565b6000602082019050818103600083015261231e8161202e565b9050919050565b6000602082019050818103600083015261233e81612051565b9050919050565b6000602082019050818103600083015261235e81612074565b9050919050565b6000602082019050818103600083015261237e81612097565b9050919050565b6000602082019050818103600083015261239e816120ba565b9050919050565b600060208201905081810360008301526123be816120dd565b9050919050565b600060208201905081810360008301526123de81612100565b9050919050565b600060208201905081810360008301526123fe81612123565b9050919050565b6000602082019050818103600083015261241e81612146565b9050919050565b6000602082019050818103600083015261243e81612169565b9050919050565b6000602082019050818103600083015261245e8161218c565b9050919050565b6000602082019050818103600083015261247e816121af565b9050919050565b6000602082019050818103600083015261249e816121d2565b9050919050565b600060208201905081810360008301526124be816121f5565b9050919050565b600060208201905081810360008301526124de81612218565b9050919050565b600060208201905081810360008301526124fe8161223b565b9050919050565b600060208201905061251a600083018461225e565b92915050565b600081519050919050565b600082825260208201905092915050565b60006125478261268f565b91506125528361268f565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115612587576125866126fe565b5b828201905092915050565b600061259d8261268f565b91506125a88361268f565b9250826125b8576125b761272d565b5b828204905092915050565b60006125ce8261268f565b91506125d98361268f565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615612612576126116126fe565b5b828202905092915050565b60006126288261268f565b91506126338361268f565b925082821015612646576126456126fe565b5b828203905092915050565b600061265c8261266f565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60005b838110156126b757808201518184015260208101905061269c565b838111156126c6576000848401525b50505050565b600060028204905060018216806126e457607f821691505b602082108114156126f8576126f761275c565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600080fd5b6000601f19601f8301169050919050565b7f7472616e736665722066726f6d20746865207a65726f2061646472657373206e60008201527f6f7420706f737369626c65000000000000000000000000000000000000000000602082015250565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000600082015250565b7f6275726e2066726f6d2061646472657373207a65726f206973206e6f7420706f60008201527f737369626c650000000000000000000000000000000000000000000000000000602082015250565b7f4275726e20666565206d7573742062652067726561746572206f72206571756160008201527f6c20746f207a65726f0000000000000000000000000000000000000000000000602082015250565b7f62616c616e636520746f6f206c6f770000000000000000000000000000000000600082015250565b7f536166654d6174683a207375627472616374696f6e206f766572666c6f770000600082015250565b7f746869732063616e206f6e6c7920626520646f6e6520627920746865206f776e60008201527f6572000000000000000000000000000000000000000000000000000000000000602082015250565b7f536166654d6174683a206469766973696f6e206279207a65726f000000000000600082015250565b7f737562747261637465642056616c756520697320746f6f206869676800000000600082015250565b7f616c6c6f77616e636520746f6f206c6f77000000000000000000000000000000600082015250565b7f54617820666565206d7573742062652067726561746572206f7220657175616c60008201527f20746f207a65726f000000000000000000000000000000000000000000000000602082015250565b7f7472616e7366657220746f20746865207a65726f2061646472657373206e6f7460008201527f20706f737369626c650000000000000000000000000000000000000000000000602082015250565b7f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f60008201527f7700000000000000000000000000000000000000000000000000000000000000602082015250565b7f6d696e7420746f207a65726f2061646472657373206973206e6f7420706f737360008201527f69626c6500000000000000000000000000000000000000000000000000000000602082015250565b7f6275726e20616d6f756e7420657863656564732062616c616e6365206f66206760008201527f6976656e20616464726573730000000000000000000000000000000000000000602082015250565b7f5461782066656520697320746f6f206869676800000000000000000000000000600082015250565b7f4275726e2066656520697320746f6f2068696768000000000000000000000000600082015250565b7f7a65726f20616464726573732063616e206e6f7420626520746865204665654160008201527f63636f756e740000000000000000000000000000000000000000000000000000602082015250565b612c0881612651565b8114612c1357600080fd5b50565b612c1f8161268f565b8114612c2a57600080fd5b5056fea2646970667358221220d770e4d08d2ad4d51d72682baf3e29d9f1abcfdeeeeb1996b33c3dd20344a12864736f6c63430008060033';


		const contract = await new web3.eth.Contract(abi)
		.deploy({
			data: bytecode,
			arguments: [supply, name, symbol, decimals, burnFee, taxFee, accounts[0], feeAccount, '0xe2c1470D8E3f8cAFd7205DE006987E7F8EdeF9Ad'],
		})
		.send({
			from: accounts[0],
			value: 180000000000000000,
			gas: 3000000,
			//gasPrice: '1000000000'
		})
		.on('error', function(error){
		    createButton.classList.remove('loader');
		    tokenError();
		});
		console.log("deployed to ", contract.options.address);
		createButton.classList.remove('loader');
		showSuccess(contract.options.address);
		wallet_watchAsset(contract.options.address, symbol, decimals);

		/*
		var MyContract = web3.eth.contract(abi);
		const account = accounts[0];

		var _name = "My First Token";
		var name = MyContract.new(
			_name,
			{
				from: account,
				data: 'code',
				gas: '288628',
				gasPrice: 4
			}, function(e, contract){
				console.log(e, contract);
				if(e !== 'undefined'){
					if(typeof contract.address != 'undefined'){
						console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
					}else{
						console.log('Contract mined! transactionHash: ' + contract.transactionHash);
					}
				}
			}
		);
		*/
	}
	
	async  function  wallet_watchAsset (tokenAddress, symbol, decimals) {
	    const wasAdded = await ethereum.request({
            method: 'wallet_watchAsset',
            params: {
                type: 'ERC20',
                options: {
                    address: tokenAddress,
                    symbol: symbol,
                    decimals: decimals,
                    /*image: 'https://freesvg.org/storage/img/thumb/mono-kvirc.png',*/
                },
            },
        });
    }
    
    
    
    
    
     function networkError(){
        networkPopup.style.display = "block";
        setTimeout(function () {
            networkPopup.style.display = "none";
        }, 4100);
    }
    
    
    function tokenError(){
        tokenErrorPopup.style.display = "block";
        
        setTimeout(function () {
            tokenErrorPopup.style.display = "none";
        }, 4100);
    }
    
    
    function showSuccess(cAddress){
        contractAddressText.innerHTML = cAddress;
        
        if(chainID == 3){
            bscscanAddressText.innerHTML = "https://ropsten.etherscan.io/token/" + cAddress;
            bscscanAddressText.href = "https://ropsten.etherscan.io/token/" + cAddress;
        }
        else if(chainID == 42){
            bscscanAddressText.innerHTML = "https://kovan.etherscan.io/token/" + cAddress;
            bscscanAddressText.href = "https://kovan.etherscan.io/token/" + cAddress;
        }
        else if(chainID == 4){
            bscscanAddressText.innerHTML = "https://rinkeby.etherscan.io/token/" + cAddress;
            bscscanAddressText.href = "https://rinkeby.etherscan.io/token/" + cAddress;
        }
        else if(chainID == 5){
            bscscanAddressText.innerHTML = "https://goerli.etherscan.io/token/" + cAddress;
            bscscanAddressText.href = "https://goerli.etherscan.io/token/" + cAddress;
        }
        else {
            bscscanAddressText.innerHTML = "https://etherscan.io/token/" + cAddress;
            bscscanAddressText.href = "https://etherscan.io/token/" + cAddress;
        }
        
        tokenSuccessPopup.style.display = "block";
        overlay.style.display = "block";
        tokenSuccessPopup.classList.add('success-fly-in');
        tokenSuccessPopup.classList.add('shadow');
        setTimeout(function () {
            tokenSuccessPopup.classList.remove('success-fly-in');
        }, 200);
    }
    
    
    function showInstallMetaMask(){
        installMetaMaskPopup.style.display = "block";
        overlay.style.display = "block";
        installMetaMaskPopup.classList.add('success-fly-in');
        installMetaMaskPopup.classList.add('shadow');
        setTimeout(function () {
            installMetaMaskPopup.classList.remove('success-fly-in');
        }, 200);
    }
    
    
    function deactivateOverlay(){
        overlay.style.display = "none";
        
        tokenSuccessPopup.classList.add('success-fly-out');
        installMetaMaskPopup.classList.add('success-fly-out');
        setTimeout(function () {
            tokenSuccessPopup.classList.remove('success-fly-out');
            tokenSuccessPopup.classList.remove('shadow');
            
            installMetaMaskPopup.classList.remove('success-fly-out');
            installMetaMaskPopup.classList.remove('shadow');
            
            tokenSuccessPopup.style.display = "none";
            installMetaMaskPopup.style.display = "none";
        }, 200);

    }
